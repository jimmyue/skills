https://blog.csdn.net/q0717168/article/details/118035672

1.安装BurpSuite
BurpSuite官方下载并安装 --- https://portswigger.net/burp/releases
BurpLoaderKeygen下载至BurpSuite安装目录 --- https://github.com/h3110w0r1d-y/BurpLoaderKeygen/releases
Start.bat启动文件新建 --- java -jar -Xmx2G BurpLoaderKeygen.jar

2.代理设置
选择【Proxy】→【Options】，配置代理监听器，默认监听127.0.0.1:8080且是运行状态

3.安装CA证书
使用内部浏览器时不需要安装CA证书，使用外部浏览器时，若未安装CA证书则无法拦截HTTPS请求。
连接代理后，直接浏览器访问http://burp，点击【CA Aertificate】下载证书，双击安装证书，将证书安装到“受信任的根证书颁发机构”即可

4.扩展extender
CSRF Scanner、SQLiPy Sqlmap Integration、XSS Validator、Python Scripter、AuthMatrix、J2EEScan、Active Scan++、Java Deserialization Scanner

5.过滤器显示
Target->Scope->Include in scope(包含规则)添加目标地址 --- 设置目标地址
Target->Site map->Fulter：Showing all items         --- 显示所有元素
Target->Site map->Filter：Show only in-scope items  --- 只显示设置的目标地址内容

6.浏览器设置
Help->diagnostics 搜索Browser，找到Burp Browser binaries路径。将安装目录下对应浏览器版本复制过去。

7.拦截请求
选择【Proxy】→【Intercept】，默认【Intercept is on】即拦截开启，访问请求时页面会一直加载中，需要在此页面进行放行【Forward】、丢弃【Drop】或者关闭拦截【Intercept is off】请求才会进入下一步。

8.重放器
无论是在拦截过程中、历史记录中还是站点地图中都有将请求发送到重放器的操作。选中请求后右键，点击【Send to Repeater】
在【Repeater】页面即可看到该请求，修改参数请求用来判断是否存在漏洞。

9.扫描器
一个很强大的网络漏洞扫描器，可以自动抓取内容并审计多种类型的漏洞。
代理浏览器后将系统都访问一次，然后选择【Dashboard】→【New scan】
将扫描结果生成报告，选择【Target】→【Site map】进入站点地图，可以在问题窗口针对单个生成报告，也可以选择结构目录中的文件或整个项目生成报告。

10.解决乱码
User options->Display->设置Font(宋体 11px)、Use a specific character set(UTF-8)


一.越权漏洞：
1.无登录越权：即无登录但有URL地址，能访问到系统数据
2.纵向越权：有登录无菜单权限，能访问到页面上访问不到的高权限用户能访问的数据
3.横向越权：A用户登录可以访问B用户的数据，有B用户的URL，A可以直接看到B用户的数据
4.token失效越权：用失效的token信息去请求接口，能访问到系统里的数据
越权测试：下面三种方式皆可进行越权测试
(1).把抓到的请求导入到插件里，替换掉cookie信息进行越权测试 (比如纵向越权，用低权限的用户cookie信息替换掉高权限用户的cookie信息，去请求接口)；
(2).把抓到的请求导入发送到Repeater(重放请求)菜单中，替换掉cookie信息，然后重新请求接口，进行越权测试；
(3).甚至把抓取的接口信息，放到postman里，替换掉cookie信息进行越权测试
